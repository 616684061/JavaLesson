# 繰り返し文

## while文
主に指定した回数だけ繰り返し目的で利用されるfor文に対して、条件が満たされている間は何度でも繰り返す目的で利用されるのがwhile文です。<br/>
書式は次の通りです。<br/>

	while (条件式){
	  実行する文1;
	  実行する文2;
	  ...
	}
	
while文では条件式を評価しtrueだった場合には「{」から「}」のブロック内に記述された文を実行します。<br/>
条件式は関係演算子及び論理演算子などを使って記述します。そしてブロック内の処理が一通り終わると改めて条件式を評価します。<br/>
そしてまたtrueだった場合にはブロック内の文の実行し、falseだった場合にはwhile文を終了します。<br/>

繰り返しで実行される文が一つだった場合には「{」と「}」を省略して次のように記述することもできます。<br/>

	while (条件式)
	  実行する文;
	  
このようにwhile文はfor文と同じように使用することができます。<br/>
for文とは異なり初期化式や変化式がありませんので条件式で変数を使用する場合はwhile文よりも前で記述する必要があります。<br/>
条件式を変更するにはブロック内で自分で記述する必要があります。<br/>

ではwhile文はどのような場合に使用するのかと言えば繰り返し回数が決まっておらず、<br/>
条件式で評価する値が不規則に変わるようなものです。簡単な例で言えばユーザーからパスワードなどを入力してもらい一致するま<br/>で繰り返し入力を行うような場合やテキスト文書などを読み込み、含まれていた文書を1行ずつ処理するような場合などです。<br/>
ただ、for文と同じような目的でwhile文を使用しても構いません。<br/>
回数が決まっている時にはfor文で回数が未定の場合はwhile文というのはあくまで目安です。<br/>

では簡単な例を使いwhile文がどのように処理されるのかを確認してみます。<br/>

	int i = 0;
	
	while (i < 2){
	  System.out.println("i = " + i);
	  i++;
	}
	
この場合は次のような処理の流れとなります。<br/>

	 1)i = 0;
	 2)条件式を評価。iは2よりも小さいので繰り返しを実行
	 3)「i = 0」を画面に出力
	 4)i++;
	 5)条件式を評価。iは2よりも小さいので繰り返しを実行
	 6)「i = 1」を画面に出力
	 7)i++;
	 8)条件式を評価。iは2よりも小さくないので繰り返しを終了
	 
for文と同じくwhile文ではまず最初に条件式が評価されます。もしも条件式がいきなりfalseとなった場合には繰り返し処理は実行されません。<br/>
条件式がtrueだった場合にはwhile文の「{」から「}」までのブロック内の文を順に実行していきます。<br/>

ブロック内の最後の文を実行したら1回目の繰り返しが終了です。そしてwhile文の最初に戻り改めて条件式を評価します。<br/>
trueなら再度ブロック内の文を実行し、falseだった場合にはwhile文の次の文へ処理が移ります。<br/>

基本的にfor文と同じですが条件式を変化させるのはブロック内で記述する必要があることを忘れないようにして下さい。<br/>

以下サンプルコードの出力は何でしょうか？<br/>

	class JSample6_1{
	  public static void main(String args[]){
	    int i = 0;
	
	    while (i < 2){
	      System.out.println("i = " + i);
	      i++;
	    }
	  }
	}
	
## do-while文
for文やwhile文ではまず条件式を評価してから1回目の繰り返しを行います。<br/>
その為、場合によっては一度も繰り返し処理を行わないことがあります。<br/>
それに対してまず繰り返しを一度行ってから条件式を評価したい場合に利用されるのがdo..while文です。<br/>

書式は次の通りです。<br/>

	do{
	  実行する文1;
	  実行する文2;
	  ...
	}while (条件式);
	
do..while文ではまず「{」から「}」のブロック内に記述された文を実行します。<br/>
そして条件式を評価しtrueだった場合には再度ブロック内の処理を行いますがfalseだった場合にはdo..while文を終了して次の文へ処理が移ります。<br/>

**注意すべき点は最後にセミコロン(;)を付ける必要がある点です。**これはfor文やwhile文と異なるため注意して下さい。<br/>

繰り返しで実行される文が一つだった場合には「{」と「}」を省略して次のように記述することもできます。<br/>

	do
	  実行する文;
	while (条件式);
	
ただ分かりにくくなるので省略はしないほうがいいかもしれません。<br/>

while文とdo..while文は必ず1回はブロック内の処理を実行するかどうかだけの違いです。次の例を見てください。<br/>

	int i = 7;
	
	do{
	  System.out.println("i = " + i);
	  i -= 4;
	}while(i < 0);
	
この場合は次のような処理の流れとなります。

	 1)i = 7;
	 2)「i = 7」を画面に出力
	 3)i -= 4;
	 4)条件式を評価。iは0よりも大きいので繰り返しを実行
	 5)「i = 3」を画面に出力
	 6)i -= 4;
	 7)条件式を評価。iは0より大きくないので繰り返しを終了
	 
今回は対象となる数値をまず表示し、そこから順に4を減算していき0よりも小さくなったら終了するというものです。<br/>
もしもwhile文で次のように記述してしまうと間違いです。<br/>

	int i = 7;
	
	while(i < 0){
	  System.out.println("i = " + i);
	  i -= 4;
	}
	
これは対象が正の数だけの場合であれば同じ結果となりますが、負の値を対象にした場合は対象となった値が一度も表示されることなく終了してしまいます。<br/>
よってwhile文で同じ動作をさせるには次のように記述しなければなりません。

	int i = 7;
	
	System.out.println("i = " + i);
	
	while(i < 0){
	  i -= 4;
	  System.out.println("i = " + i);
	}
	
do..while文で記述できることは基本的にwhile文でも記述することができますが、<br/>
do..while文を使った方が簡潔に記述できる場合があります。そのような時にdo..while文を使って下さい。<br/>

下記ソースの出力は何でしょうか？<br/>

	class JSample7_1{
	  public static void main(String args[]){
	    int i = 7;
	
	    do{
	      System.out.println("i = " + i);
	      i -= 4;
	    }while(i > 0);
	
	    System.out.println("0を下回ったので終了です");
	
	    i = -3;
	
	    do{
	      System.out.println("i = " + i);
	      i -= 4;
	    }while(i > 0);
	
	    System.out.println("0を下回ったので終了です");
	  }
	}

## 制御文のネスト
Java言語では、制御文の中に制御文を記述できます。これをネスト(入れ子)とよびます。<br/>
ネストを使用することにより、より複雑な処理を行えます。while文の中にfor文を記述する、あるいは<br/>
if文の中にwhile文を記述するなど、実行したい処理に応じた組み合わせが可能です。<br/>

ネストの数には制限はありません。しかし、あまりネストすぎると処理の流れが複雑になり、<br/>
コードが読みにくなるため注意が必要。<br/>
